<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Accueil — Carte Média Connect</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
        :root{
            --accent:#1a73e8;
            --muted:#6b7280;
            --card-bg:#ffffff;
            --page-bg:#f3f4f6;
        }
        body{
            margin:0;
            font-family: "Segoe UI", Roboto, Arial, sans-serif;
            background:var(--page-bg);
            color:#111827;
        }
        .wrap{ max-width:900px; margin:36px auto; padding:24px; }
        .card{ background:var(--card-bg); border-radius:14px; box-shadow:0 10px 30px rgba(15,23,42,0.08); padding:28px; display:grid; grid-template-columns:160px 1fr; gap:20px; align-items:center; }
        .left{text-align:center;}
        .photo{width:140px;height:140px;object-fit:cover;border-radius:10px;border:4px solid var(--accent);}
        .qr{width:120px;height:120px;margin-top:12px;}
        .id{margin-top:10px;font-weight:700;color:var(--accent);}
        .right h1{margin:0;font-size:20px;color:#0f172a;}
        .right .subtitle{margin-top:6px;color:var(--muted);font-size:14px;}
        .info{margin-top:18px;line-height:1.6;color:#111827;}
        .meta{margin-top:18px;display:flex;gap:18px;flex-wrap:wrap;font-size:14px;color:var(--muted);}
        .status{font-weight:700;font-size:15px;padding:6px 10px;border-radius:8px;display:inline-block;}
        .status.valid{background:#ecfdf5;color:#03653f;border:1px solid #b7f2d6;}
        .status.invalid{background:#fff1f2;color:#9f1239;border:1px solid #fbcaca;}
        .footer{margin-top:20px;font-size:13px;color:var(--muted);}
        @media(max-width:720px){.card{grid-template-columns:1fr;text-align:left;}.left{order:0;}}
    </style>
</head>
<body>
<div class="wrap">
    {% if card %}
        <div class="card">
            <div class="left">
                {% if card.photo %}
                    <img class="photo" src="{{ card.photo.url }}" alt="Photo">
                {% else %}
                    <div style="width:140px;height:140px;border-radius:10px;border:4px solid var(--accent);display:flex;align-items:center;justify-content:center;background:#eef2ff;font-weight:700;color:var(--accent)">PHOTO</div>
                {% endif %}
                <div class="id">{{ card.card_id }}</div>
                {% if card.qr_code %}
                    <img class="qr" src="{{ card.qr_code.url }}" alt="QR Code">
                {% endif %}
            </div>

            <div class="right">
                <h1>{{ card.name|default:"Titulaire non renseigné" }}</h1>
                <div class="subtitle">{{ card.media_name|default:"Média non renseigné" }} — Carte d'accréditation</div>
                <div class="info">
                    <p><strong>{{ card.name|default:"Le titulaire" }}</strong> est bien enregistré et reconnu comme <strong>média certifié congolais</strong>. Cette carte permet la protection en cas de contrôle et l’accès à des événements culturels, ainsi qu’aux projets et activités médiatiques. Cette accréditation est délivrée à titre personnel au titulaire de la carte.</p>
                    <p><strong>Adresse:</strong> {{ card.owner_address|default:"Adresse non renseignée" }}</p>
                    <p><strong>Propriétaire du média:</strong> {{ card.media_name|default:"-" }}</p>
                </div>

                <div class="meta">
                    <div>
                        <div style="font-size:12px;color:var(--muted)">Émise le</div>
                        <div>{{ card.issued_at|date:"d F Y" }}</div>
                    </div>
                    <div>
                        <div style="font-size:12px;color:var(--muted)">Valide jusqu'au</div>
                        <div>{{ card.expiration_date|date:"d F Y" }}</div>
                    </div>
                    <div>
                        <div style="font-size:12px;color:var(--muted)">Statut</div>
                        {% if card.valid %}
                            <div class="status valid">Valide</div>
                        {% else %}
                            <div class="status invalid">Invalide</div>
                        {% endif %}
                    </div>
                </div>

                <div class="footer">
                    <small>Cette carte est nominative. Pour vérifier une autre carte, scannez son QR code.</small>
                </div>
            </div>
        </div>
    {% else %}
        <p>Aucune carte enregistrée pour le moment.</p>
    {% endif %}
</div>
</body>
</html>
